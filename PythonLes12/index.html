<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Times+New+Roman:300,300italic,400,400italic,700,700italic%7CGeorgia:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"hwchai.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.21.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="在Python中进行科研论文绘图，有几个常用的库可以帮助你实现高质量的图表绘制，以满足学术期刊的要求。Matplotlib是Python中一个非常流行的绘图库，它提供了丰富的功能来创建各种图表。但是，默认的Matplotlib样式可能不符合某些期刊的特定要求。为了解决这个问题，可以使用自定义的样式或者样式库来调整图表的外观。SciencePlots是一个专门为科研图表设计的样式库，它提供了多种符">
<meta property="og:type" content="article">
<meta property="og:title" content="Python 在科研中的应用 11：Python 环境下的科研论文绘图">
<meta property="og:url" content="https://hwchai.com/PythonLes12/index.html">
<meta property="og:site_name" content="Hai-Wei Chai&#39;s Blog">
<meta property="og:description" content="在Python中进行科研论文绘图，有几个常用的库可以帮助你实现高质量的图表绘制，以满足学术期刊的要求。Matplotlib是Python中一个非常流行的绘图库，它提供了丰富的功能来创建各种图表。但是，默认的Matplotlib样式可能不符合某些期刊的特定要求。为了解决这个问题，可以使用自定义的样式或者样式库来调整图表的外观。SciencePlots是一个专门为科研图表设计的样式库，它提供了多种符">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://s21.ax1x.com/2024/10/17/pAUMSfI.png">
<meta property="og:image" content="https://www.osgeo.cn/scipy/_images/interpolate-1.png">
<meta property="og:image" content="https://matplotlib.org/stable/_images/sphx_glr_scatter_masked_001.png">
<meta property="og:image" content="https://matplotlib.org/stable/_images/sphx_glr_scatter_001.png">
<meta property="og:image" content="https://matplotlib.org/stable/_images/sphx_glr_polar_scatter_001.png">
<meta property="og:image" content="https://matplotlib.org/stable/_images/sphx_glr_polar_scatter_002.png">
<meta property="og:image" content="https://matplotlib.org/stable/_images/sphx_glr_polar_scatter_003.png">
<meta property="og:image" content="https://www.osgeo.cn/scipy/_images/interpolate-3.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1QzOe.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1lpeH.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1fXy6.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1fbWR.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1fOQx.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1fLS1.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1fHY9.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1hSTe.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1oUDx.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1fjOK.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1fxeO.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1fzwD.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1oJ29.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1o15F.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1o8C4.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1olUU.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1oG8J.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1oYvR.png">
<meta property="og:image" content="https://s21.ax1x.com/2024/05/28/pk1oNK1.png">
<meta property="article:published_time" content="2024-05-28T02:10:56.000Z">
<meta property="article:modified_time" content="2024-05-28T13:58:01.000Z">
<meta property="article:author" content="Hai-Wei Chai (柴海伟)">
<meta property="article:tag" content="Image Segementation">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s21.ax1x.com/2024/10/17/pAUMSfI.png">


<link rel="canonical" href="https://hwchai.com/PythonLes12/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://hwchai.com/PythonLes12/","path":"PythonLes12/","title":"Python 在科研中的应用 11：Python 环境下的科研论文绘图"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Python 在科研中的应用 11：Python 环境下的科研论文绘图 | Hai-Wei Chai's Blog</title>
  







<link rel="dns-prefetch" href="https://vercel.hwchai.com/">
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Hai-Wei Chai's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-house-chimney fa-fw"></i>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-list fa-fw"></i>Archives</a></li><li class="menu-item menu-item-support"><a href="/support/" rel="section"><i class="fa fa-screwdriver-wrench fa-fw"></i>Support</a></li><li class="menu-item menu-item-books"><a href="/books/" rel="section"><i class="fa fa-book fa-fw"></i>Books</a></li><li class="menu-item menu-item-scholar"><a href="/scholar/" rel="section"><i class="fa fa-chart-column fa-fw"></i>Scholar</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="Searching..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%89%E6%95%88%E5%9B%BE%E8%A1%A8%E7%9A%84%E9%87%8D%E8%A6%81%E7%89%B9%E5%BE%81"><span class="nav-number">1.</span> <span class="nav-text">有效图表的重要特征</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="nav-number">2.</span> <span class="nav-text">环境配置</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%B3%E8%81%94-%EF%BC%88Correlation%EF%BC%89"><span class="nav-number">3.</span> <span class="nav-text">关联 （Correlation）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%82%B9%E7%BA%BF%E5%9B%BE%EF%BC%88Scatter-and-line-plot%EF%BC%89"><span class="nav-number">3.1.</span> <span class="nav-text">点线图（Scatter and line plot）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#plt-plot-%E5%87%BD%E6%95%B0"><span class="nav-number">3.1.1.</span> <span class="nav-text">plt.plot()函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E8%87%AA%E5%8F%98%E9%87%8F%E5%A4%9A%E5%9B%A0%E5%8F%98%E9%87%8F%E7%9A%84%E6%83%85%E5%86%B5"><span class="nav-number">3.1.2.</span> <span class="nav-text">单自变量多因变量的情况</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A8%8D%E5%A4%8D%E6%9D%82%E4%BA%9B%E7%9A%84%E6%83%85%E5%86%B5"><span class="nav-number">3.1.3.</span> <span class="nav-text">稍复杂些的情况</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#plt-scatter-%E5%87%BD%E6%95%B0"><span class="nav-number">3.1.4.</span> <span class="nav-text">plt.scatter()函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%81%E5%9B%BE"><span class="nav-number">3.1.5.</span> <span class="nav-text">极图</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E7%BB%B4%E4%BF%A1%E5%8F%B7%E7%9A%84%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="nav-number">3.2.</span> <span class="nav-text">二维信号的可视化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%A3%E7%82%B9%E5%9B%BE%EF%BC%88Scatter-plot%EF%BC%89"><span class="nav-number">3.3.</span> <span class="nav-text">散点图（Scatter plot）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%A6%E8%BE%B9%E7%95%8C%E7%9A%84%E6%B0%94%E6%B3%A1%E5%9B%BE%EF%BC%88Bubble-plot-with-Encircling%EF%BC%89"><span class="nav-number">3.4.</span> <span class="nav-text">带边界的气泡图（Bubble plot with Encircling）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%A6%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%9C%80%E4%BD%B3%E6%8B%9F%E5%90%88%E7%BA%BF%E7%9A%84%E6%95%A3%E7%82%B9%E5%9B%BE-%EF%BC%88Scatter-plot-with-linear-regression-line-of-best-fit%EF%BC%89"><span class="nav-number">3.5.</span> <span class="nav-text">带线性回归最佳拟合线的散点图 （Scatter plot with linear regression line of best fit）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%92%88%E5%AF%B9%E6%AF%8F%E5%88%97%E7%BB%98%E5%88%B6%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E7%BA%BF"><span class="nav-number">3.6.</span> <span class="nav-text">针对每列绘制线性回归线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BE%B9%E7%BC%98%E7%9B%B4%E6%96%B9%E5%9B%BE-%EF%BC%88Marginal-Histogram%EF%BC%89"><span class="nav-number">3.7.</span> <span class="nav-text">边缘直方图 （Marginal Histogram）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BE%B9%E7%BC%98%E7%AE%B1%E5%BD%A2%E5%9B%BE-%EF%BC%88Marginal-Boxplot%EF%BC%89"><span class="nav-number">3.8.</span> <span class="nav-text">边缘箱形图 （Marginal Boxplot）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E5%9B%BE-%EF%BC%88Correllogram%EF%BC%89"><span class="nav-number">3.9.</span> <span class="nav-text">相关图 （Correllogram）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A9%E9%98%B5%E5%9B%BE-%EF%BC%88Pairwise-Plot%EF%BC%89"><span class="nav-number">3.10.</span> <span class="nav-text">矩阵图 （Pairwise Plot）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%81%8F%E5%B7%AE-%EF%BC%88Deviation%EF%BC%89"><span class="nav-number">4.</span> <span class="nav-text">偏差 （Deviation）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%91%E6%95%A3%E5%9E%8B%E6%9D%A1%E5%BD%A2%E5%9B%BE-%EF%BC%88Diverging-Bars%EF%BC%89"><span class="nav-number">4.1.</span> <span class="nav-text">发散型条形图 （Diverging Bars）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%91%E6%95%A3%E5%9E%8B%E6%96%87%E6%9C%AC-%EF%BC%88Diverging-Texts%EF%BC%89"><span class="nav-number">4.2.</span> <span class="nav-text">发散型文本 （Diverging Texts）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%91%E6%95%A3%E5%9E%8B%E5%8C%85%E7%82%B9%E5%9B%BE-%EF%BC%88Diverging-Dot-Plot%EF%BC%89"><span class="nav-number">4.3.</span> <span class="nav-text">发散型包点图 （Diverging Dot Plot）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%A6%E6%A0%87%E8%AE%B0%E7%9A%84%E5%8F%91%E6%95%A3%E5%9E%8B%E6%A3%92%E6%A3%92%E7%B3%96%E5%9B%BE-%EF%BC%88Diverging-Lollipop-Chart-with-Markers%EF%BC%89"><span class="nav-number">4.4.</span> <span class="nav-text">带标记的发散型棒棒糖图 （Diverging Lollipop Chart with Markers）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%A2%E7%A7%AF%E5%9B%BE-%EF%BC%88Area-Chart%EF%BC%89"><span class="nav-number">4.5.</span> <span class="nav-text">面积图 （Area Chart）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F-%EF%BC%88Ranking%EF%BC%89"><span class="nav-number">5.</span> <span class="nav-text">排序 （Ranking）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%89%E5%BA%8F%E6%9D%A1%E5%BD%A2%E5%9B%BE-%EF%BC%88Ordered-Bar-Chart%EF%BC%89"><span class="nav-number">5.1.</span> <span class="nav-text">有序条形图 （Ordered Bar Chart）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A3%92%E6%A3%92%E7%B3%96%E5%9B%BE-%EF%BC%88Lollipop-Chart%EF%BC%89"><span class="nav-number">5.2.</span> <span class="nav-text">棒棒糖图 （Lollipop Chart）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%82%B9%E5%9B%BE-%EF%BC%88Dot-Plot%EF%BC%89"><span class="nav-number">5.3.</span> <span class="nav-text">包点图 （Dot Plot）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9D%A1%E5%BA%A6%E5%9B%BE-%EF%BC%88Slope-Chart%EF%BC%89"><span class="nav-number">5.4.</span> <span class="nav-text">坡度图 （Slope Chart）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%93%91%E9%93%83%E5%9B%BE-%EF%BC%88Dumbbell-Plot%EF%BC%89"><span class="nav-number">5.5.</span> <span class="nav-text">哑铃图 （Dumbbell Plot）</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hai-Wei Chai (柴海伟)"
      src="/images/gamersky.gif">
  <p class="site-author-name" itemprop="name">Hai-Wei Chai (柴海伟)</p>
  <div class="site-description" itemprop="description">I am a slow walker, but never backwards!</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">26</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/haiweichai" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;haiweichai" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:chw9402@mail.ustc.edu.com" title="E-Mail → mailto:chw9402@mail.ustc.edu.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://hwchai.com/PythonLes12/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/gamersky.gif">
      <meta itemprop="name" content="Hai-Wei Chai (柴海伟)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hai-Wei Chai's Blog">
      <meta itemprop="description" content="I am a slow walker, but never backwards!">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Python 在科研中的应用 11：Python 环境下的科研论文绘图 | Hai-Wei Chai's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python 在科研中的应用 11：Python 环境下的科研论文绘图
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-05-28 02:10:56" itemprop="dateCreated datePublished" datetime="2024-05-28T02:10:56Z">2024-05-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-28 13:58:01" itemprop="dateModified" datetime="2024-05-28T13:58:01Z">2024-05-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-language/" itemprop="url" rel="index"><span itemprop="name">Programming language</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline: </span>
  
    <a title="waline" href="/PythonLes12/#waline" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" data-path="/PythonLes12/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p><img src="https://s21.ax1x.com/2024/10/17/pAUMSfI.png"></p>
<p>在Python中进行科研论文绘图，有几个常用的库可以帮助你实现高质量的图表绘制，以满足学术期刊的要求。Matplotlib是Python中一个非常流行的绘图库，它提供了丰富的功能来创建各种图表。但是，默认的Matplotlib样式可能不符合某些期刊的特定要求。为了解决这个问题，可以使用自定义的样式或者样式库来调整图表的外观。SciencePlots是一个专门为科研图表设计的样式库，它提供了多种符合不同期刊发表要求的主题样式。你可以使用这个库来快速设置图表的样式，以满足期刊的标准。</p>
<p>本文总结了 Matplotlib 以及 Seaborn 用的最多的50个图形，掌握这些图形的绘制，对于数据分析的可视化有莫大的作用，强烈推荐大家阅读后续内容。来源：<a target="_blank" rel="noopener" href="https://www.machinelearningplus.com/plots/top-50-matplotlib-visualizations-the-master-plots-python/">https://www.machinelearningplus.com/plots/top-50-matplotlib-visualizations-the-master-plots-python/</a></p>
<span id="more"></span>

<p>本文所使用示例数据链接：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/15utfb0uuPu32YHv76S4WUw">https://pan.baidu.com/s/15utfb0uuPu32YHv76S4WUw</a>, 提取码：kn6p</p>
<h1 id="有效图表的重要特征"><a href="#有效图表的重要特征" class="headerlink" title="有效图表的重要特征"></a>有效图表的重要特征</h1><ul>
<li>在不歪曲事实的情况下传达正确和必要的信息。</li>
<li>设计简单，您不必太费力就能理解它。</li>
<li>从审美角度支持信息而不是掩盖信息。</li>
<li>信息没有超负荷。</li>
</ul>
<h1 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h1><p>在代码运行前先引入下面的设置内容。 当然，单独的图表，可以重新设置显示要素。其中设置了不显示warnings（由于版本变动导致的函数变动），图片以嵌入式方式展示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> warnings; warnings.filterwarnings(action=<span class="string">&#x27;once&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># set the  fontsize and some other elements</span></span><br><span class="line">large = <span class="number">22</span>; med = <span class="number">16</span>; small = <span class="number">12</span></span><br><span class="line">params = &#123;<span class="string">&#x27;axes.titlesize&#x27;</span>: large,</span><br><span class="line">          <span class="string">&#x27;legend.fontsize&#x27;</span>: med,</span><br><span class="line">          <span class="string">&#x27;figure.figsize&#x27;</span>: (<span class="number">16</span>, <span class="number">10</span>),</span><br><span class="line">          <span class="string">&#x27;axes.labelsize&#x27;</span>: med,</span><br><span class="line">          <span class="string">&#x27;xtick.labelsize&#x27;</span>: med,</span><br><span class="line">          <span class="string">&#x27;ytick.labelsize&#x27;</span>: med,</span><br><span class="line">          <span class="string">&#x27;figure.titlesize&#x27;</span>: large&#125;</span><br><span class="line">plt.rcParams.update(params)</span><br><span class="line"><span class="comment"># plt.style.use(&#x27;seaborn-whitegrid&#x27;)</span></span><br><span class="line">sns.set_style(<span class="string">&quot;white&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print Version</span></span><br><span class="line"><span class="built_in">print</span>(mpl.__version__)  </span><br><span class="line"><span class="built_in">print</span>(sns.__version__)</span><br><span class="line"><span class="number">3.6</span><span class="number">.2</span></span><br><span class="line"><span class="number">0.12</span><span class="number">.1</span></span><br></pre></td></tr></table></figure>


<h1 id="关联-（Correlation）"><a href="#关联-（Correlation）" class="headerlink" title="关联 （Correlation）"></a>关联 （Correlation）</h1><p>关联图表用于可视化2个或更多变量之间的关系。 也就是说，一个变量如何相对于另一个变化。</p>
<h2 id="点线图（Scatter-and-line-plot）"><a href="#点线图（Scatter-and-line-plot）" class="headerlink" title="点线图（Scatter and line plot）"></a>点线图（Scatter and line plot）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.interpolate <span class="keyword">import</span> interp1d</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, num=<span class="number">11</span>, endpoint=<span class="literal">True</span>)</span><br><span class="line">y = np.cos(-x**<span class="number">2</span>/<span class="number">9.0</span>)</span><br><span class="line">f = interp1d(x, y)</span><br><span class="line">f2 = interp1d(x, y, kind=<span class="string">&#x27;cubic&#x27;</span>)</span><br><span class="line">xnew = np.linspace(<span class="number">0</span>, <span class="number">10</span>, num=<span class="number">41</span>, endpoint=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">plt.plot(x, y, <span class="string">&#x27;o&#x27;</span>, xnew, f(xnew), <span class="string">&#x27;-&#x27;</span>, xnew, f2(xnew), <span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">plt.legend([<span class="string">&#x27;data&#x27;</span>, <span class="string">&#x27;linear&#x27;</span>, <span class="string">&#x27;cubic&#x27;</span>], loc=<span class="string">&#x27;best&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;X-axis&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Y-axis&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Multiple Lines Plot&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<img src="https://www.osgeo.cn/scipy/_images/interpolate-1.png" width="75%" alt="" align=center />

<h3 id="plt-plot-函数"><a href="#plt-plot-函数" class="headerlink" title="plt.plot()函数"></a>plt.plot()函数</h3><p>函数<code>matplotlib.pyplot.plot()</code>将多组数据对绘制为点线图，形如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plot(x, y, color=<span class="string">&#x27;green&#x27;</span>, marker=<span class="string">&#x27;o&#x27;</span>, linestyle=<span class="string">&#x27;dashed&#x27;</span>,linewidth=<span class="number">2</span>, markersize=<span class="number">12</span>)</span><br><span class="line"><span class="comment"># Plot y versus x as lines and/or markers.</span></span><br><span class="line"></span><br><span class="line">plot(x,y,data=obj)</span><br></pre></td></tr></table></figure>
<p>其中</p>
<ul>
<li><code>x,y</code>表示需要绘制的自变量与应变量；</li>
<li><code>color=&#39;green&#39;</code>可以指定该组数据绘制的颜色，可选项包括<code>b g r c m y k w</code>，详见<a target="_blank" rel="noopener" href="https://matplotlib.org/stable/users/explain/colors/colors.html#colors-def">此处说明文档</a>。</li>
<li><code>Marker=&#39;o&#39;</code>表示绘制点的形状，可选项包括<code>.  ,  o  v  ^  &lt;  &gt;  1  2  3  4  8  s  p  P  *  h  H  +  x  X  D  d  |  _</code>；</li>
<li><code>linestyle = &#39;dashed&#39;</code>表示线的形状，可选项包括<code>-  --   -.   :</code></li>
</ul>
<p>一种比较特殊的写法是把这些标识组合在一起，如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;b&#x27;</span>    <span class="comment"># blue markers with default shape</span></span><br><span class="line"><span class="string">&#x27;or&#x27;</span>   <span class="comment"># red circles</span></span><br><span class="line"><span class="string">&#x27;-g&#x27;</span>   <span class="comment"># green solid line</span></span><br><span class="line"><span class="string">&#x27;--&#x27;</span>   <span class="comment"># dashed line with default color</span></span><br><span class="line"><span class="string">&#x27;^k:&#x27;</span>  <span class="comment"># black triangle_up markers connected by a dotted line</span></span><br></pre></td></tr></table></figure>

<h3 id="单自变量多因变量的情况"><a href="#单自变量多因变量的情况" class="headerlink" title="单自变量多因变量的情况"></a>单自变量多因变量的情况</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.interpolate <span class="keyword">import</span> interp1d</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">y = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line">plt.plot(x, y,<span class="string">&#x27;o-&#x27;</span>)</span><br><span class="line"><span class="comment"># is equivalent to:</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># for col in range(y.shape[1]):</span></span><br><span class="line"><span class="comment">#     plt.plot(x, y[:, col])</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<h3 id="稍复杂些的情况"><a href="#稍复杂些的情况" class="headerlink" title="稍复杂些的情况"></a>稍复杂些的情况</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fixing random state for reproducibility</span></span><br><span class="line">np.random.seed(<span class="number">19680801</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">N = <span class="number">100</span></span><br><span class="line">r0 = <span class="number">0.6</span></span><br><span class="line">x = <span class="number">0.9</span> * np.random.rand(N)</span><br><span class="line">y = <span class="number">0.9</span> * np.random.rand(N)</span><br><span class="line">area = (<span class="number">20</span> * np.random.rand(N))**<span class="number">2</span>  <span class="comment"># 0 to 10 point radii</span></span><br><span class="line">c = np.sqrt(area)</span><br><span class="line">r = np.sqrt(x ** <span class="number">2</span> + y ** <span class="number">2</span>)</span><br><span class="line">area1 = np.ma.masked_where(r &lt; r0, area)</span><br><span class="line">area2 = np.ma.masked_where(r &gt;= r0, area)</span><br><span class="line">plt.scatter(x, y, s=area1, marker=<span class="string">&#x27;^&#x27;</span>, c=c)</span><br><span class="line">plt.scatter(x, y, s=area2, marker=<span class="string">&#x27;o&#x27;</span>, c=c)</span><br><span class="line"><span class="comment"># Show the boundary between the regions:</span></span><br><span class="line">theta = np.arange(<span class="number">0</span>, np.pi / <span class="number">2</span>, <span class="number">0.01</span>)</span><br><span class="line">plt.plot(r0 * np.cos(theta), r0 * np.sin(theta))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<img src="https://matplotlib.org/stable/_images/sphx_glr_scatter_masked_001.png" width="75%" alt="" align=center />

<h3 id="plt-scatter-函数"><a href="#plt-scatter-函数" class="headerlink" title="plt.scatter()函数"></a>plt.scatter()函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">matplotlib.pyplot.scatter(x, y, s=<span class="literal">None</span>, c=<span class="literal">None</span>, marker=<span class="literal">None</span>, cmap=<span class="literal">None</span>, norm=<span class="literal">None</span>, vmin=<span class="literal">None</span>, vmax=<span class="literal">None</span>,</span><br><span class="line"> alpha=<span class="literal">None</span>, linewidths=<span class="literal">None</span>, *, edgecolors=<span class="literal">None</span>, plotnonfinite=<span class="literal">False</span>, data=<span class="literal">None</span>, **kwargs)</span><br><span class="line"><span class="comment"># A scatter plot of y vs. x with varying marker size and/or color.</span></span><br></pre></td></tr></table></figure>

<p>其中，</p>
<ul>
<li>x,y：指定自变量与应变量；</li>
<li>s：标记点的尺寸，如不指定默认值为<code>rcParams[&#39;lines.markersize&#39;] ** 2</code>；</li>
<li>c：标记点的颜色；</li>
<li>marker：标记的形状类别；</li>
<li>cmap：用于将标量数据映射到颜色的Colormap实例或已注册的Colormap名称。如果c为RGB(A)，则忽略此参数。</li>
<li>norm：在使用cmap映射到颜色之前，将标量数据缩放到[0,1]范围的归一化方法。默认情况下，使用线性缩放，将最低值映射为0，最高值映射为1。</li>
<li>alpha：不透明度，取值在[0,1]。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fixing random state for reproducibility</span></span><br><span class="line">np.random.seed(<span class="number">19680801</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">N = <span class="number">50</span></span><br><span class="line">x = np.random.rand(N)</span><br><span class="line">y = np.random.rand(N)</span><br><span class="line">colors = np.random.rand(N)</span><br><span class="line">area = (<span class="number">30</span> * np.random.rand(N))**<span class="number">2</span>  <span class="comment"># 0 to 15 point radii</span></span><br><span class="line"></span><br><span class="line">plt.scatter(x, y, s=area, c=colors, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<img src="https://matplotlib.org/stable/_images/sphx_glr_scatter_001.png" width="75%" alt="" align=center />

<h3 id="极图"><a href="#极图" class="headerlink" title="极图"></a>极图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fixing random state for reproducibility</span></span><br><span class="line">np.random.seed(<span class="number">19680801</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Compute areas and colors</span></span><br><span class="line">N = <span class="number">150</span></span><br><span class="line">r = <span class="number">2</span> * np.random.rand(N)</span><br><span class="line">theta = <span class="number">2</span> * np.pi * np.random.rand(N)</span><br><span class="line">area = <span class="number">200</span> * r**<span class="number">2</span></span><br><span class="line">colors = theta</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(projection=<span class="string">&#x27;polar&#x27;</span>)</span><br><span class="line">c = ax.scatter(theta, r, c=colors, s=area, cmap=<span class="string">&#x27;hsv&#x27;</span>, alpha=<span class="number">0.75</span>)</span><br></pre></td></tr></table></figure>

<img src="https://matplotlib.org/stable/_images/sphx_glr_polar_scatter_001.png" width="75%" alt="" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(projection=<span class="string">&#x27;polar&#x27;</span>)</span><br><span class="line">c = ax.scatter(theta, r, c=colors, s=area, cmap=<span class="string">&#x27;hsv&#x27;</span>, alpha=<span class="number">0.75</span>)</span><br><span class="line"></span><br><span class="line">ax.set_rorigin(-<span class="number">2.5</span>)</span><br><span class="line">ax.set_theta_zero_location(<span class="string">&#x27;W&#x27;</span>, offset=<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<img src="https://matplotlib.org/stable/_images/sphx_glr_polar_scatter_002.png" width="75%" alt="" align=center />


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(projection=<span class="string">&#x27;polar&#x27;</span>)</span><br><span class="line">c = ax.scatter(theta, r, c=colors, s=area, cmap=<span class="string">&#x27;hsv&#x27;</span>, alpha=<span class="number">0.75</span>)</span><br><span class="line"></span><br><span class="line">ax.set_thetamin(<span class="number">45</span>)</span><br><span class="line">ax.set_thetamax(<span class="number">135</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<img src="https://matplotlib.org/stable/_images/sphx_glr_polar_scatter_003.png" width="75%" alt="" align=center />


<h2 id="二维信号的可视化"><a href="#二维信号的可视化" class="headerlink" title="二维信号的可视化"></a>二维信号的可视化</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="keyword">return</span> x*(<span class="number">1</span>-x)*np.cos(<span class="number">4</span>*np.pi*x) * np.sin(<span class="number">4</span>*np.pi*y**<span class="number">2</span>)**<span class="number">2</span></span><br><span class="line"></span><br><span class="line">grid_x, grid_y = np.mgrid[<span class="number">0</span>:<span class="number">1</span>:<span class="number">100j</span>, <span class="number">0</span>:<span class="number">1</span>:<span class="number">200j</span>]</span><br><span class="line"></span><br><span class="line">np.mgrid[<span class="number">0</span>:<span class="number">5</span>, <span class="number">0</span>:<span class="number">5</span>]</span><br><span class="line">array([[[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>],</span><br><span class="line">        [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>],</span><br><span class="line">        [<span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>]],</span><br><span class="line">       [[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]])</span><br><span class="line"></span><br><span class="line">np.mgrid[-<span class="number">1</span>:<span class="number">1</span>:<span class="number">5j</span>]</span><br><span class="line">array([-<span class="number">1.</span> , -<span class="number">0.5</span>,  <span class="number">0.</span> ,  <span class="number">0.5</span>,  <span class="number">1.</span> ])</span><br></pre></td></tr></table></figure>

<p>但我们只知道它在1000个数据点的值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">points = np.random.random((<span class="number">1000</span>, <span class="number">2</span>))</span><br><span class="line">values = func(points[:,<span class="number">0</span>], points[:,<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<p>这可以通过以下方式完成 <code>griddata</code> –下面我们将尝试所有的插值方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.interpolate <span class="keyword">import</span> griddata</span><br><span class="line"></span><br><span class="line">grid_z0 = griddata(points, values, (grid_x, grid_y), method=<span class="string">&#x27;nearest&#x27;</span>)</span><br><span class="line">grid_z1 = griddata(points, values, (grid_x, grid_y), method=<span class="string">&#x27;linear&#x27;</span>)</span><br><span class="line">grid_z2 = griddata(points, values, (grid_x, grid_y), method=<span class="string">&#x27;cubic&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>可以看到，所有方法都在一定程度上重现了准确的结果，但对于此光滑函数，三次样条插值提供了最好的结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.subplot(<span class="number">221</span>)</span><br><span class="line">plt.imshow(func(grid_x, grid_y).T, extent=(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>), origin=<span class="string">&#x27;lower&#x27;</span>,cmap = <span class="string">&#x27;jet&#x27;</span>)</span><br><span class="line">plt.plot(points[:,<span class="number">0</span>], points[:,<span class="number">1</span>], <span class="string">&#x27;k.&#x27;</span>, ms=<span class="number">1</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Original&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">222</span>)</span><br><span class="line">plt.imshow(grid_z0.T, extent=(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>), origin=<span class="string">&#x27;lower&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Nearest&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">223</span>)</span><br><span class="line">plt.imshow(grid_z1.T, extent=(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>), origin=<span class="string">&#x27;lower&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Linear&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">224</span>)</span><br><span class="line">plt.imshow(grid_z2.T, extent=(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>), origin=<span class="string">&#x27;lower&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Cubic&#x27;</span>)</span><br><span class="line">plt.gcf().set_size_inches(<span class="number">6</span>, <span class="number">6</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<img src="https://www.osgeo.cn/scipy/_images/interpolate-3.png" width="80%" alt="" align=center />


<h2 id="散点图（Scatter-plot）"><a href="#散点图（Scatter-plot）" class="headerlink" title="散点图（Scatter plot）"></a>散点图（Scatter plot）</h2><p>散点图是用于研究两个变量之间关系的经典的和基本的图表。 如果数据中有多个组，则可能需要以不同颜色可视化每个组。 在 matplotlib 中，您可以使用 <code>plt.scatter()</code> 方便地执行此操作。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1QzOe.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import dataset </span></span><br><span class="line">midwest = pd.read_csv(<span class="string">&#x27;midwest_filter.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data </span></span><br><span class="line"><span class="comment"># Create as many colors as there are unique midwest[&#x27;category&#x27;]</span></span><br><span class="line">categories = np.unique(midwest[<span class="string">&#x27;category&#x27;</span>])</span><br><span class="line">colors = [plt.cm.tab10(i/<span class="built_in">float</span>(<span class="built_in">len</span>(categories)-<span class="number">1</span>)) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(categories))]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot for Each Category</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi= <span class="number">80</span>, facecolor=<span class="string">&#x27;w&#x27;</span>, edgecolor=<span class="string">&#x27;k&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, category <span class="keyword">in</span> <span class="built_in">enumerate</span>(categories):</span><br><span class="line">    plt.scatter(<span class="string">&#x27;area&#x27;</span>, <span class="string">&#x27;poptotal&#x27;</span>, data=midwest.loc[midwest.category==category, :], s=<span class="number">20</span>, cmap=colors[i], label=<span class="built_in">str</span>(category))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">plt.gca().<span class="built_in">set</span>(xlim=(<span class="number">0.0</span>, <span class="number">0.1</span>), ylim=(<span class="number">0</span>, <span class="number">90000</span>),xlabel=<span class="string">&#x27;Area&#x27;</span>, ylabel=<span class="string">&#x27;Population&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.xticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.yticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Scatterplot of Midwest Area vs Population&quot;</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.legend(fontsize=<span class="number">12</span>)    </span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># d:\anaconda3\lib\site-packages\ipykernel\ipkernel.py:287: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.</span></span><br><span class="line"><span class="comment">#  and should_run_async(code)</span></span><br></pre></td></tr></table></figure>

<p><code>np.unique()</code>:列表元素去重<br>当前的图表和子图可以使用<code>plt.gcf()</code>和<code>plt.gca()</code>获得,分别表示”Get Current Figure”和”Get Current Axes”，这样可以方便的设置x，y轴显示范围及标签。<br><code>enumerate(sequence, [start=0])</code>函数用于将一个可遍历的数据对象(如列表、元组或字符串)组合为一个索引序列，同时列出数据和数据下标，一般用在 for 循环当中。</p>
<h2 id="带边界的气泡图（Bubble-plot-with-Encircling）"><a href="#带边界的气泡图（Bubble-plot-with-Encircling）" class="headerlink" title="带边界的气泡图（Bubble plot with Encircling）"></a>带边界的气泡图（Bubble plot with Encircling）</h2><p>有时，您希望在边界内显示一组点以强调其重要性。 在这个例子中，你从数据框中获取记录，并用下面代码中描述的 encircle() 来使边界显示出来。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1lpeH.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> patches</span><br><span class="line"><span class="keyword">from</span> scipy.spatial <span class="keyword">import</span> ConvexHull</span><br><span class="line"><span class="keyword">import</span> warnings; warnings.simplefilter(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line">sns.set_style(<span class="string">&quot;white&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Step 1: Prepare Data</span></span><br><span class="line">midwest = pd.read_csv(<span class="string">&quot;midwest_filter.csv&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># As many colors as there are unique midwest[&#x27;category&#x27;]</span></span><br><span class="line">categories = np.unique(midwest[<span class="string">&#x27;category&#x27;</span>])</span><br><span class="line">colors = [plt.cm.tab10(i/<span class="built_in">float</span>(<span class="built_in">len</span>(categories)-<span class="number">1</span>)) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(categories))]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Step 2: Draw Scatterplot with unique color for each category</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi= <span class="number">80</span>, facecolor=<span class="string">&#x27;w&#x27;</span>, edgecolor=<span class="string">&#x27;k&#x27;</span>)    </span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, category <span class="keyword">in</span> <span class="built_in">enumerate</span>(categories):</span><br><span class="line">    plt.scatter(<span class="string">&#x27;area&#x27;</span>, <span class="string">&#x27;poptotal&#x27;</span>, data=midwest.loc[midwest.category==category, :], </span><br><span class="line">                s=<span class="string">&#x27;dot_size&#x27;</span>, cmap=colors[i], label=<span class="built_in">str</span>(category), edgecolors=<span class="string">&#x27;black&#x27;</span>, linewidths=<span class="number">.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Step 3: Encircling</span></span><br><span class="line"><span class="comment"># https://stackoverflow.com/questions/44575681/how-do-i-encircle-different-data-sets-in-scatter-plot</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">encircle</span>(<span class="params">x,y, ax=<span class="literal">None</span>, **kw</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ax: ax=plt.gca()</span><br><span class="line">    p = np.c_[x,y]</span><br><span class="line">    hull = ConvexHull(p)</span><br><span class="line">    poly = plt.Polygon(p[hull.vertices,:], **kw)</span><br><span class="line">    ax.add_patch(poly)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Select data to be encircled</span></span><br><span class="line">midwest_encircle_data = midwest.loc[midwest.state==<span class="string">&#x27;IN&#x27;</span>, :]                         </span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw polygon surrounding vertices    </span></span><br><span class="line">encircle(midwest_encircle_data.area, midwest_encircle_data.poptotal, ec=<span class="string">&quot;k&quot;</span>, fc=<span class="string">&quot;gold&quot;</span>, alpha=<span class="number">0.1</span>)</span><br><span class="line">encircle(midwest_encircle_data.area, midwest_encircle_data.poptotal, ec=<span class="string">&quot;firebrick&quot;</span>, fc=<span class="string">&quot;none&quot;</span>, linewidth=<span class="number">1.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Step 4: Decorations</span></span><br><span class="line">plt.gca().<span class="built_in">set</span>(xlim=(<span class="number">0.0</span>, <span class="number">0.1</span>), ylim=(<span class="number">0</span>, <span class="number">90000</span>),xlabel=<span class="string">&#x27;Area&#x27;</span>, ylabel=<span class="string">&#x27;Population&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.xticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.yticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Bubble Plot with Encircling&quot;</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.legend(fontsize=<span class="number">12</span>)    </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><code>np.r_</code>是按列连接两个矩阵，就是把两矩阵上下相加，要求列数相等，类似于pandas中的concat()。<br><code>np.c_</code>是按行连接两个矩阵，就是把两矩阵左右相加，要求行数相等，类似于pandas中的merge()。<br><code>ConvexHull</code>：给定二维平面上的点集，凸包就是将最外层的点连接起来构成的凸多边型，它能包含点集中所有的点。</p>
<h2 id="带线性回归最佳拟合线的散点图-（Scatter-plot-with-linear-regression-line-of-best-fit）"><a href="#带线性回归最佳拟合线的散点图-（Scatter-plot-with-linear-regression-line-of-best-fit）" class="headerlink" title="带线性回归最佳拟合线的散点图 （Scatter plot with linear regression line of best fit）"></a>带线性回归最佳拟合线的散点图 （Scatter plot with linear regression line of best fit）</h2><p>如果你想了解两个变量如何相互改变，那么最佳拟合线就是常用的方法。 下图显示了数据中各组之间最佳拟合线的差异。要禁用分组并仅为整个数据集绘制一条最佳拟合线，请从下面的<code>sns.lmplot()</code>调用中删除<code>hue =&#39;cyl&#39;</code>参数。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1fXy6.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;mpg_ggplot2.csv&quot;</span>)</span><br><span class="line">df_select = df.loc[df.cyl.isin([<span class="number">4</span>,<span class="number">8</span>]), :]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">sns.set_style(<span class="string">&quot;white&quot;</span>)</span><br><span class="line">gridobj = sns.lmplot(x=<span class="string">&quot;displ&quot;</span>, y=<span class="string">&quot;hwy&quot;</span>, hue=<span class="string">&quot;cyl&quot;</span>, data=df_select, </span><br><span class="line">                     aspect=<span class="number">1.6</span>, robust=<span class="literal">True</span>, palette=<span class="string">&#x27;tab10&#x27;</span>, </span><br><span class="line">                     scatter_kws=<span class="built_in">dict</span>(s=<span class="number">60</span>, linewidths=<span class="number">.7</span>, edgecolors=<span class="string">&#x27;black&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">gridobj.<span class="built_in">set</span>(xlim=(<span class="number">0.5</span>, <span class="number">7.5</span>), ylim=(<span class="number">0</span>, <span class="number">50</span>))</span><br><span class="line">plt.title(<span class="string">&quot;Scatterplot with line of best fit grouped by number of cylinders&quot;</span>, fontsize=<span class="number">20</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>如果报错<code>No module named &#39;statsmodels&#39;</code>，执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install statsmodels</span><br></pre></td></tr></table></figure>

<h2 id="针对每列绘制线性回归线"><a href="#针对每列绘制线性回归线" class="headerlink" title="针对每列绘制线性回归线"></a>针对每列绘制线性回归线</h2><p>或者，可以在其每列中显示每个组的最佳拟合线。 可以通过在<code>sns.lmplot()</code>中设置<code>col=groupingcolumn</code>参数来实现，如下：</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1fbWR.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;mpg_ggplot2.csv&quot;</span>)</span><br><span class="line">df_select = df.loc[df.cyl.isin([<span class="number">4</span>,<span class="number">8</span>]), :]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Each line in its own column</span></span><br><span class="line">sns.set_style(<span class="string">&quot;white&quot;</span>)</span><br><span class="line">gridobj = sns.lmplot(x=<span class="string">&quot;displ&quot;</span>, y=<span class="string">&quot;hwy&quot;</span>, </span><br><span class="line">                     data=df_select, </span><br><span class="line">                     robust=<span class="literal">True</span>, </span><br><span class="line">                     palette=<span class="string">&#x27;Set1&#x27;</span>, </span><br><span class="line">                     col=<span class="string">&quot;cyl&quot;</span>,</span><br><span class="line">                     scatter_kws=<span class="built_in">dict</span>(s=<span class="number">60</span>, linewidths=<span class="number">.7</span>, edgecolors=<span class="string">&#x27;black&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">gridobj.<span class="built_in">set</span>(xlim=(<span class="number">0.5</span>, <span class="number">7.5</span>), ylim=(<span class="number">0</span>, <span class="number">50</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="边缘直方图-（Marginal-Histogram）"><a href="#边缘直方图-（Marginal-Histogram）" class="headerlink" title="边缘直方图 （Marginal Histogram）"></a>边缘直方图 （Marginal Histogram）</h2><p>边缘直方图具有沿 X 和 Y 轴变量的直方图。 这用于可视化 X 和 Y 之间的关系以及单独的 X 和 Y 的单变量分布。 这种图经常用于探索性数据分析（EDA）。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1fOQx.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;mpg_ggplot2.csv&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create Fig and gridspec</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">grid = plt.GridSpec(<span class="number">4</span>, <span class="number">4</span>, hspace=<span class="number">0.5</span>, wspace=<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define the axes</span></span><br><span class="line">ax_main = fig.add_subplot(grid[:-<span class="number">1</span>, :-<span class="number">1</span>])</span><br><span class="line">ax_right = fig.add_subplot(grid[:-<span class="number">1</span>, -<span class="number">1</span>], xticklabels=[], yticklabels=[])</span><br><span class="line">ax_bottom = fig.add_subplot(grid[-<span class="number">1</span>, <span class="number">0</span>:-<span class="number">1</span>], xticklabels=[], yticklabels=[])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Scatterplot on main ax</span></span><br><span class="line">ax_main.scatter(<span class="string">&#x27;displ&#x27;</span>, <span class="string">&#x27;hwy&#x27;</span>, s=df.cty*<span class="number">4</span>, c=df.manufacturer.astype(<span class="string">&#x27;category&#x27;</span>).cat.codes, alpha=<span class="number">.9</span>, data=df, cmap=<span class="string">&quot;tab10&quot;</span>, edgecolors=<span class="string">&#x27;gray&#x27;</span>, linewidths=<span class="number">.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># histogram on the right</span></span><br><span class="line">ax_bottom.hist(df.displ, <span class="number">40</span>, histtype=<span class="string">&#x27;stepfilled&#x27;</span>, orientation=<span class="string">&#x27;vertical&#x27;</span>, color=<span class="string">&#x27;deeppink&#x27;</span>)</span><br><span class="line">ax_bottom.invert_yaxis()</span><br><span class="line"></span><br><span class="line"><span class="comment"># histogram in the bottom</span></span><br><span class="line">ax_right.hist(df.hwy, <span class="number">40</span>, histtype=<span class="string">&#x27;stepfilled&#x27;</span>, orientation=<span class="string">&#x27;horizontal&#x27;</span>, color=<span class="string">&#x27;deeppink&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">ax_main.<span class="built_in">set</span>(title=<span class="string">&#x27;Scatterplot with Histograms \n displ vs hwy&#x27;</span>, xlabel=<span class="string">&#x27;displ&#x27;</span>, ylabel=<span class="string">&#x27;hwy&#x27;</span>)</span><br><span class="line">ax_main.title.set_fontsize(<span class="number">20</span>)</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> ([ax_main.xaxis.label, ax_main.yaxis.label] + ax_main.get_xticklabels() + ax_main.get_yticklabels()):</span><br><span class="line">    item.set_fontsize(<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">xlabels = ax_main.get_xticks().tolist()</span><br><span class="line">ax_main.set_xticklabels(xlabels)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="边缘箱形图-（Marginal-Boxplot）"><a href="#边缘箱形图-（Marginal-Boxplot）" class="headerlink" title="边缘箱形图 （Marginal Boxplot）"></a>边缘箱形图 （Marginal Boxplot）</h2><p>边缘箱图与边缘直方图具有相似的用途。 然而，箱线图有助于精确定位 X 和 Y 的中位数、第25和第75百分位数。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1fLS1.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;mpg_ggplot2.csv&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create Fig and gridspec</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">grid = plt.GridSpec(<span class="number">4</span>, <span class="number">4</span>, hspace=<span class="number">0.5</span>, wspace=<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define the axes</span></span><br><span class="line">ax_main = fig.add_subplot(grid[:-<span class="number">1</span>, :-<span class="number">1</span>])</span><br><span class="line">ax_right = fig.add_subplot(grid[:-<span class="number">1</span>, -<span class="number">1</span>], xticklabels=[], yticklabels=[])</span><br><span class="line">ax_bottom = fig.add_subplot(grid[-<span class="number">1</span>, <span class="number">0</span>:-<span class="number">1</span>], xticklabels=[], yticklabels=[])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Scatterplot on main ax</span></span><br><span class="line">ax_main.scatter(<span class="string">&#x27;displ&#x27;</span>, <span class="string">&#x27;hwy&#x27;</span>, s=df.cty*<span class="number">5</span>, c=df.manufacturer.astype(<span class="string">&#x27;category&#x27;</span>).cat.codes, alpha=<span class="number">.9</span>, data=df, cmap=<span class="string">&quot;Set1&quot;</span>, edgecolors=<span class="string">&#x27;black&#x27;</span>, linewidths=<span class="number">.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add a graph in each part</span></span><br><span class="line">sns.boxplot(df.hwy, ax=ax_right, orient=<span class="string">&quot;v&quot;</span>)</span><br><span class="line">sns.boxplot(df.displ, ax=ax_bottom, orient=<span class="string">&quot;h&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations ------------------</span></span><br><span class="line"><span class="comment"># Remove x axis name for the boxplot</span></span><br><span class="line">ax_bottom.<span class="built_in">set</span>(xlabel=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">ax_right.<span class="built_in">set</span>(ylabel=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Main Title, Xlabel and YLabel</span></span><br><span class="line">ax_main.<span class="built_in">set</span>(title=<span class="string">&#x27;Scatterplot with Histograms \n displ vs hwy&#x27;</span>, xlabel=<span class="string">&#x27;displ&#x27;</span>, ylabel=<span class="string">&#x27;hwy&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set font size of different components</span></span><br><span class="line">ax_main.title.set_fontsize(<span class="number">20</span>)</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> ([ax_main.xaxis.label, ax_main.yaxis.label] + ax_main.get_xticklabels() + ax_main.get_yticklabels()):</span><br><span class="line">    item.set_fontsize(<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="相关图-（Correllogram）"><a href="#相关图-（Correllogram）" class="headerlink" title="相关图 （Correllogram）"></a>相关图 （Correllogram）</h2><p>相关图用于直观地查看给定数据框（或二维数组）中所有可能的数值变量对之间的相关度量。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1fHY9.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Dataset</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;mtcars.csv&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">12</span>,<span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">sns.heatmap(df.corr(), xticklabels=df.corr().columns, yticklabels=df.corr().columns, cmap=<span class="string">&#x27;RdYlGn&#x27;</span>, center=<span class="number">0</span>, annot=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">plt.title(<span class="string">&#x27;Correlogram of mtcars&#x27;</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.xticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.yticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="矩阵图-（Pairwise-Plot）"><a href="#矩阵图-（Pairwise-Plot）" class="headerlink" title="矩阵图 （Pairwise Plot）"></a>矩阵图 （Pairwise Plot）</h2><p>矩阵图是探索性分析中的最爱，用于理解所有可能的数值变量对之间的关系。 它是双变量分析的必备工具。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1hSTe.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Load Dataset</span></span><br><span class="line">df = sns.load_dataset(<span class="string">&#x27;iris&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>,<span class="number">8</span>), dpi= <span class="number">80</span>)</span><br><span class="line">sns.pairplot(df, kind=<span class="string">&quot;scatter&quot;</span>, hue=<span class="string">&quot;species&quot;</span>, plot_kws=<span class="built_in">dict</span>(s=<span class="number">80</span>, edgecolor=<span class="string">&quot;white&quot;</span>, linewidth=<span class="number">2.5</span>))</span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># &lt;Figure size 800x640 with 0 Axes&gt;</span></span><br></pre></td></tr></table></figure>

<img src="https://s21.ax1x.com/2024/05/28/pk1oUDx.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Load Dataset</span></span><br><span class="line">df = sns.load_dataset(<span class="string">&#x27;iris&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>,<span class="number">8</span>), dpi= <span class="number">80</span>)</span><br><span class="line">sns.pairplot(df, kind=<span class="string">&quot;reg&quot;</span>, hue=<span class="string">&quot;species&quot;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># &lt;Figure size 800x640 with 0 Axes&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="偏差-（Deviation）"><a href="#偏差-（Deviation）" class="headerlink" title="偏差 （Deviation）"></a>偏差 （Deviation）</h1><h2 id="发散型条形图-（Diverging-Bars）"><a href="#发散型条形图-（Diverging-Bars）" class="headerlink" title="发散型条形图 （Diverging Bars）"></a>发散型条形图 （Diverging Bars）</h2><p>如果您想根据单个指标查看项目的变化情况，并可视化此差异的顺序和数量，那么散型条形图 （Diverging Bars） 是一个很好的工具。 它有助于快速区分数据中组的性能，并且非常直观，并且可以立即传达这一点。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1fjOK.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;mtcars.csv&quot;</span>)</span><br><span class="line">x = df.loc[:, [<span class="string">&#x27;mpg&#x27;</span>]]</span><br><span class="line">df[<span class="string">&#x27;mpg_z&#x27;</span>] = (x - x.mean())/x.std()</span><br><span class="line">df[<span class="string">&#x27;colors&#x27;</span>] = [<span class="string">&#x27;red&#x27;</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">&#x27;green&#x27;</span> <span class="keyword">for</span> x <span class="keyword">in</span> df[<span class="string">&#x27;mpg_z&#x27;</span>]]</span><br><span class="line">df.sort_values(<span class="string">&#x27;mpg_z&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">plt.hlines(y=df.index, xmin=<span class="number">0</span>, xmax=df.mpg_z, color=df.colors, alpha=<span class="number">0.4</span>, linewidth=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">plt.gca().<span class="built_in">set</span>(ylabel=<span class="string">&#x27;$Model$&#x27;</span>, xlabel=<span class="string">&#x27;$Mileage$&#x27;</span>)</span><br><span class="line">plt.yticks(df.index, df.cars, fontsize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Diverging Bars of Car Mileage&#x27;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">20</span>&#125;)</span><br><span class="line">plt.grid(linestyle=<span class="string">&#x27;--&#x27;</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="发散型文本-（Diverging-Texts）"><a href="#发散型文本-（Diverging-Texts）" class="headerlink" title="发散型文本 （Diverging Texts）"></a>发散型文本 （Diverging Texts）</h2><p>发散型文本 （Diverging Texts）与发散型条形图 （Diverging Bars）相似，如果你想以一种漂亮和可呈现的方式显示图表中每个项目的价值，就可以使用这种方法。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1fxeO.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;mtcars.csv&quot;</span>)</span><br><span class="line">x = df.loc[:, [<span class="string">&#x27;mpg&#x27;</span>]]</span><br><span class="line">df[<span class="string">&#x27;mpg_z&#x27;</span>] = (x - x.mean())/x.std()</span><br><span class="line">df[<span class="string">&#x27;colors&#x27;</span>] = [<span class="string">&#x27;red&#x27;</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">&#x27;green&#x27;</span> <span class="keyword">for</span> x <span class="keyword">in</span> df[<span class="string">&#x27;mpg_z&#x27;</span>]]</span><br><span class="line">df.sort_values(<span class="string">&#x27;mpg_z&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">14</span>), dpi= <span class="number">80</span>)</span><br><span class="line">plt.hlines(y=df.index, xmin=<span class="number">0</span>, xmax=df.mpg_z)</span><br><span class="line"><span class="keyword">for</span> x, y, tex <span class="keyword">in</span> <span class="built_in">zip</span>(df.mpg_z, df.index, df.mpg_z):</span><br><span class="line">    t = plt.text(x, y, <span class="built_in">round</span>(tex, <span class="number">2</span>), horizontalalignment=<span class="string">&#x27;right&#x27;</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">&#x27;left&#x27;</span>, </span><br><span class="line">                 verticalalignment=<span class="string">&#x27;center&#x27;</span>, fontdict=&#123;<span class="string">&#x27;color&#x27;</span>:<span class="string">&#x27;red&#x27;</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;size&#x27;</span>:<span class="number">14</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations    </span></span><br><span class="line">plt.yticks(df.index, df.cars, fontsize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Diverging Text Bars of Car Mileage&#x27;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">20</span>&#125;)</span><br><span class="line">plt.grid(linestyle=<span class="string">&#x27;--&#x27;</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.xlim(-<span class="number">2.5</span>, <span class="number">2.5</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="发散型包点图-（Diverging-Dot-Plot）"><a href="#发散型包点图-（Diverging-Dot-Plot）" class="headerlink" title="发散型包点图 （Diverging Dot Plot）"></a>发散型包点图 （Diverging Dot Plot）</h2><p>发散型包点图 （Diverging Dot Plot）也类似于发散型条形图 （Diverging Bars）。 然而，与发散型条形图 （Diverging Bars）相比，条的缺失减少了组之间的对比度和差异。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1fzwD.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;mtcars.csv&quot;</span>)</span><br><span class="line">x = df.loc[:, [<span class="string">&#x27;mpg&#x27;</span>]]</span><br><span class="line">df[<span class="string">&#x27;mpg_z&#x27;</span>] = (x - x.mean())/x.std()</span><br><span class="line">df[<span class="string">&#x27;colors&#x27;</span>] = [<span class="string">&#x27;red&#x27;</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">&#x27;darkgreen&#x27;</span> <span class="keyword">for</span> x <span class="keyword">in</span> df[<span class="string">&#x27;mpg_z&#x27;</span>]]</span><br><span class="line">df.sort_values(<span class="string">&#x27;mpg_z&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">16</span>), dpi= <span class="number">80</span>)</span><br><span class="line">plt.scatter(df.mpg_z, df.index, s=<span class="number">450</span>, alpha=<span class="number">.6</span>, color=df.colors)</span><br><span class="line"><span class="keyword">for</span> x, y, tex <span class="keyword">in</span> <span class="built_in">zip</span>(df.mpg_z, df.index, df.mpg_z):</span><br><span class="line">    t = plt.text(x, y, <span class="built_in">round</span>(tex, <span class="number">1</span>), horizontalalignment=<span class="string">&#x27;center&#x27;</span>, </span><br><span class="line">                 verticalalignment=<span class="string">&#x27;center&#x27;</span>, fontdict=&#123;<span class="string">&#x27;color&#x27;</span>:<span class="string">&#x27;white&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line"><span class="comment"># Lighten borders</span></span><br><span class="line">plt.gca().spines[<span class="string">&quot;top&quot;</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">&quot;bottom&quot;</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">&quot;right&quot;</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">&quot;left&quot;</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line"></span><br><span class="line">plt.yticks(df.index, df.cars)</span><br><span class="line">plt.title(<span class="string">&#x27;Diverging Dotplot of Car Mileage&#x27;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">20</span>&#125;)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;$Mileage$&#x27;</span>)</span><br><span class="line">plt.grid(linestyle=<span class="string">&#x27;--&#x27;</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.xlim(-<span class="number">2.5</span>, <span class="number">2.5</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="带标记的发散型棒棒糖图-（Diverging-Lollipop-Chart-with-Markers）"><a href="#带标记的发散型棒棒糖图-（Diverging-Lollipop-Chart-with-Markers）" class="headerlink" title="带标记的发散型棒棒糖图 （Diverging Lollipop Chart with Markers）"></a>带标记的发散型棒棒糖图 （Diverging Lollipop Chart with Markers）</h2><p>带标记的棒棒糖图通过强调您想要引起注意的任何重要数据点并在图表中适当地给出推理，提供了一种对差异进行可视化的灵活方式。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1oJ29.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;mtcars.csv&quot;</span>)</span><br><span class="line">x = df.loc[:, [<span class="string">&#x27;mpg&#x27;</span>]]</span><br><span class="line">df[<span class="string">&#x27;mpg_z&#x27;</span>] = (x - x.mean())/x.std()</span><br><span class="line">df[<span class="string">&#x27;colors&#x27;</span>] = <span class="string">&#x27;black&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># color fiat differently</span></span><br><span class="line">df.loc[df.cars == <span class="string">&#x27;Fiat X1-9&#x27;</span>, <span class="string">&#x27;colors&#x27;</span>] = <span class="string">&#x27;darkorange&#x27;</span></span><br><span class="line">df.sort_values(<span class="string">&#x27;mpg_z&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.patches <span class="keyword">as</span> patches</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">16</span>), dpi= <span class="number">80</span>)</span><br><span class="line">plt.hlines(y=df.index, xmin=<span class="number">0</span>, xmax=df.mpg_z, color=df.colors, alpha=<span class="number">0.4</span>, linewidth=<span class="number">1</span>)</span><br><span class="line">plt.scatter(df.mpg_z, df.index, color=df.colors, s=[<span class="number">600</span> <span class="keyword">if</span> x == <span class="string">&#x27;Fiat X1-9&#x27;</span> <span class="keyword">else</span> <span class="number">300</span> <span class="keyword">for</span> x <span class="keyword">in</span> df.cars], alpha=<span class="number">0.6</span>)</span><br><span class="line">plt.yticks(df.index, df.cars)</span><br><span class="line">plt.xticks(fontsize=<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Annotate</span></span><br><span class="line">plt.annotate(<span class="string">&#x27;Mercedes Models&#x27;</span>, xy=(<span class="number">0.0</span>, <span class="number">11.0</span>), xytext=(<span class="number">1.0</span>, <span class="number">11</span>), xycoords=<span class="string">&#x27;data&#x27;</span>, </span><br><span class="line">            fontsize=<span class="number">15</span>, ha=<span class="string">&#x27;center&#x27;</span>, va=<span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">            bbox=<span class="built_in">dict</span>(boxstyle=<span class="string">&#x27;square&#x27;</span>, fc=<span class="string">&#x27;firebrick&#x27;</span>),</span><br><span class="line">            arrowprops=<span class="built_in">dict</span>(arrowstyle=<span class="string">&#x27;-[, widthB=2.0, lengthB=1.5&#x27;</span>, lw=<span class="number">2.0</span>, color=<span class="string">&#x27;steelblue&#x27;</span>), color=<span class="string">&#x27;white&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add Patches</span></span><br><span class="line">p1 = patches.Rectangle((-<span class="number">2.0</span>, -<span class="number">1</span>), width=<span class="number">.3</span>, height=<span class="number">3</span>, alpha=<span class="number">.2</span>, facecolor=<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">p2 = patches.Rectangle((<span class="number">1.5</span>, <span class="number">27</span>), width=<span class="number">.8</span>, height=<span class="number">5</span>, alpha=<span class="number">.2</span>, facecolor=<span class="string">&#x27;green&#x27;</span>)</span><br><span class="line">plt.gca().add_patch(p1)</span><br><span class="line">plt.gca().add_patch(p2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorate</span></span><br><span class="line">plt.title(<span class="string">&#x27;Diverging Bars of Car Mileage&#x27;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">20</span>&#125;)</span><br><span class="line">plt.grid(linestyle=<span class="string">&#x27;--&#x27;</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="面积图-（Area-Chart）"><a href="#面积图-（Area-Chart）" class="headerlink" title="面积图 （Area Chart）"></a>面积图 （Area Chart）</h2><p>通过对轴和线之间的区域进行着色，面积图不仅强调峰和谷，而且还强调高点和低点的持续时间。 高点持续时间越长，线下面积越大。<br>这里annotate的函数值得学习，台风路径信息的框框或者文字避让算法，都需要用到这个函数。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1o15F.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;economics.csv&quot;</span>, parse_dates=[<span class="string">&#x27;date&#x27;</span>]).head(<span class="number">100</span>)</span><br><span class="line">x = np.arange(df.shape[<span class="number">0</span>])</span><br><span class="line">y_returns = (df.psavert.diff().fillna(<span class="number">0</span>)/df.psavert.shift(<span class="number">1</span>)).fillna(<span class="number">0</span>) * <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>,<span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">plt.fill_between(x[<span class="number">1</span>:], y_returns[<span class="number">1</span>:], <span class="number">0</span>, where=y_returns[<span class="number">1</span>:] &gt;= <span class="number">0</span>, facecolor=<span class="string">&#x27;green&#x27;</span>, interpolate=<span class="literal">True</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line">plt.fill_between(x[<span class="number">1</span>:], y_returns[<span class="number">1</span>:], <span class="number">0</span>, where=y_returns[<span class="number">1</span>:] &lt;= <span class="number">0</span>, facecolor=<span class="string">&#x27;red&#x27;</span>, interpolate=<span class="literal">True</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Annotate</span></span><br><span class="line">plt.annotate(<span class="string">&#x27;Peak \n1975&#x27;</span>, xy=(<span class="number">94.0</span>, <span class="number">21.0</span>), xytext=(<span class="number">88.0</span>, <span class="number">28</span>),</span><br><span class="line">             bbox=<span class="built_in">dict</span>(boxstyle=<span class="string">&#x27;square&#x27;</span>, fc=<span class="string">&#x27;firebrick&#x27;</span>),</span><br><span class="line">             arrowprops=<span class="built_in">dict</span>(facecolor=<span class="string">&#x27;steelblue&#x27;</span>, shrink=<span class="number">0.05</span>), fontsize=<span class="number">15</span>, color=<span class="string">&#x27;white&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">xtickvals = [<span class="built_in">str</span>(m)[:<span class="number">3</span>].upper()+<span class="string">&quot;-&quot;</span>+<span class="built_in">str</span>(y) <span class="keyword">for</span> y,m <span class="keyword">in</span> <span class="built_in">zip</span>(df.date.dt.year, df.date.dt.month_name())]</span><br><span class="line">plt.gca().set_xticks(x[::<span class="number">6</span>])</span><br><span class="line">plt.gca().set_xticklabels(xtickvals[::<span class="number">6</span>], rotation=<span class="number">90</span>, fontdict=&#123;<span class="string">&#x27;horizontalalignment&#x27;</span>: <span class="string">&#x27;center&#x27;</span>, <span class="string">&#x27;verticalalignment&#x27;</span>: <span class="string">&#x27;center_baseline&#x27;</span>&#125;)</span><br><span class="line">plt.ylim(-<span class="number">35</span>,<span class="number">35</span>)</span><br><span class="line">plt.xlim(<span class="number">1</span>,<span class="number">100</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Month Economics Return %&quot;</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Monthly returns %&#x27;</span>)</span><br><span class="line">plt.grid(alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h1 id="排序-（Ranking）"><a href="#排序-（Ranking）" class="headerlink" title="排序 （Ranking）"></a>排序 （Ranking）</h1><h2 id="有序条形图-（Ordered-Bar-Chart）"><a href="#有序条形图-（Ordered-Bar-Chart）" class="headerlink" title="有序条形图 （Ordered Bar Chart）"></a>有序条形图 （Ordered Bar Chart）</h2><p>有序条形图有效地传达了项目的排名顺序。 但是，在图表上方添加度量标准的值，用户可以从图表本身获取精确信息。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1o8C4.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">&quot;mpg_ggplot2.csv&quot;</span>)</span><br><span class="line">df = df_raw[[<span class="string">&#x27;cty&#x27;</span>, <span class="string">&#x27;manufacturer&#x27;</span>]].groupby(<span class="string">&#x27;manufacturer&#x27;</span>).apply(<span class="keyword">lambda</span> x: x.mean())</span><br><span class="line">df.sort_values(<span class="string">&#x27;cty&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.patches <span class="keyword">as</span> patches</span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">16</span>,<span class="number">10</span>), facecolor=<span class="string">&#x27;white&#x27;</span>, dpi= <span class="number">80</span>)</span><br><span class="line">ax.vlines(x=df.index, ymin=<span class="number">0</span>, ymax=df.cty, color=<span class="string">&#x27;firebrick&#x27;</span>, alpha=<span class="number">0.7</span>, linewidth=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Annotate Text</span></span><br><span class="line"><span class="keyword">for</span> i, cty <span class="keyword">in</span> <span class="built_in">enumerate</span>(df.cty):</span><br><span class="line">    ax.text(i, cty+<span class="number">0.5</span>, <span class="built_in">round</span>(cty, <span class="number">1</span>), horizontalalignment=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Title, Label, Ticks and Ylim</span></span><br><span class="line">ax.set_title(<span class="string">&#x27;Bar Chart for Highway Mileage&#x27;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">22</span>&#125;)</span><br><span class="line">ax.<span class="built_in">set</span>(ylabel=<span class="string">&#x27;Miles Per Gallon&#x27;</span>, ylim=(<span class="number">0</span>, <span class="number">30</span>))</span><br><span class="line">plt.xticks(df.index, df.manufacturer.<span class="built_in">str</span>.upper(), rotation=<span class="number">60</span>, horizontalalignment=<span class="string">&#x27;right&#x27;</span>, fontsize=<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add patches to color the X axis labels</span></span><br><span class="line">p1 = patches.Rectangle((<span class="number">.57</span>, -<span class="number">0.005</span>), width=<span class="number">.33</span>, height=<span class="number">.13</span>, alpha=<span class="number">.1</span>, facecolor=<span class="string">&#x27;green&#x27;</span>, transform=fig.transFigure)</span><br><span class="line">p2 = patches.Rectangle((<span class="number">.124</span>, -<span class="number">0.005</span>), width=<span class="number">.446</span>, height=<span class="number">.13</span>, alpha=<span class="number">.1</span>, facecolor=<span class="string">&#x27;red&#x27;</span>, transform=fig.transFigure)</span><br><span class="line">fig.add_artist(p1)</span><br><span class="line">fig.add_artist(p2)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="棒棒糖图-（Lollipop-Chart）"><a href="#棒棒糖图-（Lollipop-Chart）" class="headerlink" title="棒棒糖图 （Lollipop Chart）"></a>棒棒糖图 （Lollipop Chart）</h2><p>棒棒糖图表以一种视觉上令人愉悦的方式提供与有序条形图类似的目的。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1olUU.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">&quot;mpg_ggplot2.csv&quot;</span>)</span><br><span class="line">df = df_raw[[<span class="string">&#x27;cty&#x27;</span>, <span class="string">&#x27;manufacturer&#x27;</span>]].groupby(<span class="string">&#x27;manufacturer&#x27;</span>).apply(<span class="keyword">lambda</span> x: x.mean())</span><br><span class="line">df.sort_values(<span class="string">&#x27;cty&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">16</span>,<span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">ax.vlines(x=df.index, ymin=<span class="number">0</span>, ymax=df.cty, color=<span class="string">&#x27;firebrick&#x27;</span>, alpha=<span class="number">0.7</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">ax.scatter(x=df.index, y=df.cty, s=<span class="number">75</span>, color=<span class="string">&#x27;firebrick&#x27;</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Title, Label, Ticks and Ylim</span></span><br><span class="line">ax.set_title(<span class="string">&#x27;Lollipop Chart for Highway Mileage&#x27;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">22</span>&#125;)</span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;Miles Per Gallon&#x27;</span>)</span><br><span class="line">ax.set_xticks(df.index)</span><br><span class="line">ax.set_xticklabels(df.manufacturer.<span class="built_in">str</span>.upper(), rotation=<span class="number">60</span>, fontdict=&#123;<span class="string">&#x27;horizontalalignment&#x27;</span>: <span class="string">&#x27;right&#x27;</span>, <span class="string">&#x27;size&#x27;</span>:<span class="number">12</span>&#125;)</span><br><span class="line">ax.set_ylim(<span class="number">0</span>, <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Annotate</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> df.itertuples():</span><br><span class="line">    ax.text(row.Index, row.cty+<span class="number">.5</span>, s=<span class="built_in">round</span>(row.cty, <span class="number">2</span>), horizontalalignment= <span class="string">&#x27;center&#x27;</span>, verticalalignment=<span class="string">&#x27;bottom&#x27;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="包点图-（Dot-Plot）"><a href="#包点图-（Dot-Plot）" class="headerlink" title="包点图 （Dot Plot）"></a>包点图 （Dot Plot）</h2><p>包点图表传达了项目的排名顺序，并且由于它沿水平轴对齐，因此您可以更容易地看到点彼此之间的距离。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1oG8J.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">&quot;mpg_ggplot2.csv&quot;</span>)</span><br><span class="line">df = df_raw[[<span class="string">&#x27;cty&#x27;</span>, <span class="string">&#x27;manufacturer&#x27;</span>]].groupby(<span class="string">&#x27;manufacturer&#x27;</span>).apply(<span class="keyword">lambda</span> x: x.mean())</span><br><span class="line">df.sort_values(<span class="string">&#x27;cty&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">16</span>,<span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">ax.hlines(y=df.index, xmin=<span class="number">11</span>, xmax=<span class="number">26</span>, color=<span class="string">&#x27;gray&#x27;</span>, alpha=<span class="number">0.7</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">&#x27;dashdot&#x27;</span>)</span><br><span class="line">ax.scatter(y=df.index, x=df.cty, s=<span class="number">75</span>, color=<span class="string">&#x27;firebrick&#x27;</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Title, Label, Ticks and Ylim</span></span><br><span class="line">ax.set_title(<span class="string">&#x27;Dot Plot for Highway Mileage&#x27;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">22</span>&#125;)</span><br><span class="line">ax.set_xlabel(<span class="string">&#x27;Miles Per Gallon&#x27;</span>)</span><br><span class="line">ax.set_yticks(df.index)</span><br><span class="line">ax.set_yticklabels(df.manufacturer.<span class="built_in">str</span>.title(), fontdict=&#123;<span class="string">&#x27;horizontalalignment&#x27;</span>: <span class="string">&#x27;right&#x27;</span>&#125;)</span><br><span class="line">ax.set_xlim(<span class="number">10</span>, <span class="number">27</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="坡度图-（Slope-Chart）"><a href="#坡度图-（Slope-Chart）" class="headerlink" title="坡度图 （Slope Chart）"></a>坡度图 （Slope Chart）</h2><p>坡度图最适合比较给定人&#x2F;项目的“前”和“后”位置。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1oYvR.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.lines <span class="keyword">as</span> mlines</span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;gdppercap.csv&quot;</span>)</span><br><span class="line"></span><br><span class="line">left_label = [<span class="built_in">str</span>(c) + <span class="string">&#x27;, &#x27;</span>+ <span class="built_in">str</span>(<span class="built_in">round</span>(y)) <span class="keyword">for</span> c, y <span class="keyword">in</span> <span class="built_in">zip</span>(df.continent, df[<span class="string">&#x27;1952&#x27;</span>])]</span><br><span class="line">right_label = [<span class="built_in">str</span>(c) + <span class="string">&#x27;, &#x27;</span>+ <span class="built_in">str</span>(<span class="built_in">round</span>(y)) <span class="keyword">for</span> c, y <span class="keyword">in</span> <span class="built_in">zip</span>(df.continent, df[<span class="string">&#x27;1957&#x27;</span>])]</span><br><span class="line">klass = [<span class="string">&#x27;red&#x27;</span> <span class="keyword">if</span> (y1-y2) &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">&#x27;green&#x27;</span> <span class="keyword">for</span> y1, y2 <span class="keyword">in</span> <span class="built_in">zip</span>(df[<span class="string">&#x27;1952&#x27;</span>], df[<span class="string">&#x27;1957&#x27;</span>])]</span><br><span class="line"></span><br><span class="line"><span class="comment"># draw line</span></span><br><span class="line"><span class="comment"># https://stackoverflow.com/questions/36470343/how-to-draw-a-line-with-matplotlib/36479941</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">newline</span>(<span class="params">p1, p2, color=<span class="string">&#x27;black&#x27;</span></span>):</span><br><span class="line">    ax = plt.gca()</span><br><span class="line">    l = mlines.Line2D([p1[<span class="number">0</span>],p2[<span class="number">0</span>]], [p1[<span class="number">1</span>],p2[<span class="number">1</span>]], color=<span class="string">&#x27;red&#x27;</span> <span class="keyword">if</span> p1[<span class="number">1</span>]-p2[<span class="number">1</span>] &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">&#x27;green&#x27;</span>, marker=<span class="string">&#x27;o&#x27;</span>, markersize=<span class="number">6</span>)</span><br><span class="line">    ax.add_line(l)</span><br><span class="line">    <span class="keyword">return</span> l</span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(<span class="number">1</span>,<span class="number">1</span>,figsize=(<span class="number">14</span>,<span class="number">14</span>), dpi= <span class="number">80</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Vertical Lines</span></span><br><span class="line">ax.vlines(x=<span class="number">1</span>, ymin=<span class="number">500</span>, ymax=<span class="number">13000</span>, color=<span class="string">&#x27;black&#x27;</span>, alpha=<span class="number">0.7</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">&#x27;dotted&#x27;</span>)</span><br><span class="line">ax.vlines(x=<span class="number">3</span>, ymin=<span class="number">500</span>, ymax=<span class="number">13000</span>, color=<span class="string">&#x27;black&#x27;</span>, alpha=<span class="number">0.7</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">&#x27;dotted&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Points</span></span><br><span class="line">ax.scatter(y=df[<span class="string">&#x27;1952&#x27;</span>], x=np.repeat(<span class="number">1</span>, df.shape[<span class="number">0</span>]), s=<span class="number">10</span>, color=<span class="string">&#x27;black&#x27;</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line">ax.scatter(y=df[<span class="string">&#x27;1957&#x27;</span>], x=np.repeat(<span class="number">3</span>, df.shape[<span class="number">0</span>]), s=<span class="number">10</span>, color=<span class="string">&#x27;black&#x27;</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Line Segmentsand Annotation</span></span><br><span class="line"><span class="keyword">for</span> p1, p2, c <span class="keyword">in</span> <span class="built_in">zip</span>(df[<span class="string">&#x27;1952&#x27;</span>], df[<span class="string">&#x27;1957&#x27;</span>], df[<span class="string">&#x27;continent&#x27;</span>]):</span><br><span class="line">    newline([<span class="number">1</span>,p1], [<span class="number">3</span>,p2])</span><br><span class="line">    ax.text(<span class="number">1</span>-<span class="number">0.05</span>, p1, c + <span class="string">&#x27;, &#x27;</span> + <span class="built_in">str</span>(<span class="built_in">round</span>(p1)), horizontalalignment=<span class="string">&#x27;right&#x27;</span>, verticalalignment=<span class="string">&#x27;center&#x27;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">14</span>&#125;)</span><br><span class="line">    ax.text(<span class="number">3</span>+<span class="number">0.05</span>, p2, c + <span class="string">&#x27;, &#x27;</span> + <span class="built_in">str</span>(<span class="built_in">round</span>(p2)), horizontalalignment=<span class="string">&#x27;left&#x27;</span>, verticalalignment=<span class="string">&#x27;center&#x27;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">14</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x27;Before&#x27; and &#x27;After&#x27; Annotations</span></span><br><span class="line">ax.text(<span class="number">1</span>-<span class="number">0.05</span>, <span class="number">13000</span>, <span class="string">&#x27;BEFORE&#x27;</span>, horizontalalignment=<span class="string">&#x27;right&#x27;</span>, verticalalignment=<span class="string">&#x27;center&#x27;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">18</span>, <span class="string">&#x27;weight&#x27;</span>:<span class="number">700</span>&#125;)</span><br><span class="line">ax.text(<span class="number">3</span>+<span class="number">0.05</span>, <span class="number">13000</span>, <span class="string">&#x27;AFTER&#x27;</span>, horizontalalignment=<span class="string">&#x27;left&#x27;</span>, verticalalignment=<span class="string">&#x27;center&#x27;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">18</span>, <span class="string">&#x27;weight&#x27;</span>:<span class="number">700</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">ax.set_title(<span class="string">&quot;Slopechart: Comparing GDP Per Capita between 1952 vs 1957&quot;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">22</span>&#125;)</span><br><span class="line">ax.<span class="built_in">set</span>(xlim=(<span class="number">0</span>,<span class="number">4</span>), ylim=(<span class="number">0</span>,<span class="number">14000</span>), ylabel=<span class="string">&#x27;Mean GDP Per Capita&#x27;</span>)</span><br><span class="line">ax.set_xticks([<span class="number">1</span>,<span class="number">3</span>])</span><br><span class="line">ax.set_xticklabels([<span class="string">&quot;1952&quot;</span>, <span class="string">&quot;1957&quot;</span>])</span><br><span class="line">plt.yticks(np.arange(<span class="number">500</span>, <span class="number">13000</span>, <span class="number">2000</span>), fontsize=<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Lighten borders</span></span><br><span class="line">plt.gca().spines[<span class="string">&quot;top&quot;</span>].set_alpha(<span class="number">.0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">&quot;bottom&quot;</span>].set_alpha(<span class="number">.0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">&quot;right&quot;</span>].set_alpha(<span class="number">.0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">&quot;left&quot;</span>].set_alpha(<span class="number">.0</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="哑铃图-（Dumbbell-Plot）"><a href="#哑铃图-（Dumbbell-Plot）" class="headerlink" title="哑铃图 （Dumbbell Plot）"></a>哑铃图 （Dumbbell Plot）</h2><p>哑铃图表传达了各种项目的“前”和“后”位置以及项目的等级排序。 如果您想要将特定项目&#x2F;计划对不同对象的影响可视化，那么它非常有用。</p>
<img src="https://s21.ax1x.com/2024/05/28/pk1oNK1.png" width="100%" align=center />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.lines <span class="keyword">as</span> mlines</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;health.csv&quot;</span>)</span><br><span class="line">df.sort_values(<span class="string">&#x27;pct_2014&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Func to draw line segment</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">newline</span>(<span class="params">p1, p2, color=<span class="string">&#x27;black&#x27;</span></span>):</span><br><span class="line">    ax = plt.gca()</span><br><span class="line">    l = mlines.Line2D([p1[<span class="number">0</span>],p2[<span class="number">0</span>]], [p1[<span class="number">1</span>],p2[<span class="number">1</span>]], color=<span class="string">&#x27;skyblue&#x27;</span>)</span><br><span class="line">    ax.add_line(l)</span><br><span class="line">    <span class="keyword">return</span> l</span><br><span class="line"></span><br><span class="line"><span class="comment"># Figure and Axes</span></span><br><span class="line">fig, ax = plt.subplots(<span class="number">1</span>,<span class="number">1</span>,figsize=(<span class="number">14</span>,<span class="number">14</span>), facecolor=<span class="string">&#x27;#f7f7f7&#x27;</span>, dpi= <span class="number">80</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Vertical Lines</span></span><br><span class="line">ax.vlines(x=<span class="number">.05</span>, ymin=<span class="number">0</span>, ymax=<span class="number">26</span>, color=<span class="string">&#x27;black&#x27;</span>, alpha=<span class="number">1</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">&#x27;dotted&#x27;</span>)</span><br><span class="line">ax.vlines(x=<span class="number">.10</span>, ymin=<span class="number">0</span>, ymax=<span class="number">26</span>, color=<span class="string">&#x27;black&#x27;</span>, alpha=<span class="number">1</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">&#x27;dotted&#x27;</span>)</span><br><span class="line">ax.vlines(x=<span class="number">.15</span>, ymin=<span class="number">0</span>, ymax=<span class="number">26</span>, color=<span class="string">&#x27;black&#x27;</span>, alpha=<span class="number">1</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">&#x27;dotted&#x27;</span>)</span><br><span class="line">ax.vlines(x=<span class="number">.20</span>, ymin=<span class="number">0</span>, ymax=<span class="number">26</span>, color=<span class="string">&#x27;black&#x27;</span>, alpha=<span class="number">1</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">&#x27;dotted&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Points</span></span><br><span class="line">ax.scatter(y=df[<span class="string">&#x27;index&#x27;</span>], x=df[<span class="string">&#x27;pct_2013&#x27;</span>], s=<span class="number">50</span>, color=<span class="string">&#x27;#0e668b&#x27;</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line">ax.scatter(y=df[<span class="string">&#x27;index&#x27;</span>], x=df[<span class="string">&#x27;pct_2014&#x27;</span>], s=<span class="number">50</span>, color=<span class="string">&#x27;#a3c4dc&#x27;</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Line Segments</span></span><br><span class="line"><span class="keyword">for</span> i, p1, p2 <span class="keyword">in</span> <span class="built_in">zip</span>(df[<span class="string">&#x27;index&#x27;</span>], df[<span class="string">&#x27;pct_2013&#x27;</span>], df[<span class="string">&#x27;pct_2014&#x27;</span>]):</span><br><span class="line">    newline([p1, i], [p2, i])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">ax.set_facecolor(<span class="string">&#x27;#f7f7f7&#x27;</span>)</span><br><span class="line">ax.set_title(<span class="string">&quot;Dumbell Chart: Pct Change - 2013 vs 2014&quot;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>:<span class="number">22</span>&#125;)</span><br><span class="line">ax.<span class="built_in">set</span>(xlim=(<span class="number">0</span>,<span class="number">.25</span>), ylim=(-<span class="number">1</span>, <span class="number">27</span>), ylabel=<span class="string">&#x27;Mean GDP Per Capita&#x27;</span>)</span><br><span class="line">ax.set_xticks([<span class="number">.05</span>, <span class="number">.1</span>, <span class="number">.15</span>, <span class="number">.20</span>])</span><br><span class="line">ax.set_xticklabels([<span class="string">&#x27;5%&#x27;</span>, <span class="string">&#x27;15%&#x27;</span>, <span class="string">&#x27;20%&#x27;</span>, <span class="string">&#x27;25%&#x27;</span>])</span><br><span class="line">ax.set_xticklabels([<span class="string">&#x27;5%&#x27;</span>, <span class="string">&#x27;15%&#x27;</span>, <span class="string">&#x27;20%&#x27;</span>, <span class="string">&#x27;25%&#x27;</span>])    </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>Post author:  </strong>Hai-Wei Chai (柴海伟)
  </li>
  <li class="post-copyright-link">
      <strong>Post link: </strong>
      <a href="https://hwchai.com/PythonLes12/" title="Python 在科研中的应用 11：Python 环境下的科研论文绘图">https://hwchai.com/PythonLes12/</a>
  </li>
  <li class="post-copyright-license">
      <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/Image-Segementation/" rel="tag"># Image Segementation</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/PythonLes11/" rel="prev" title="Python 在科研中的应用 10：Python 环境下的数字图像目标检测">
                  <i class="fa fa-angle-left"></i> Python 在科研中的应用 10：Python 环境下的数字图像目标检测
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/PythonLes13/" rel="next" title="Python 在科研中的应用 12：聚类分析">
                  Python 在科研中的应用 12：聚类分析 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments" id="waline"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2019 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-user"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Hai-Wei Chai (柴海伟)</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>




  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"all","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://vercel.hwchai.com/","cssUrl":"https://hwchai.com/download/Waline.css","commentCount":true,"pageview":false,"locale":{"placeholder":"请留下邮箱，若有回复您将收到提醒。QQ邮箱可以自动识别头像喔~"},"pageSize":10,"visitor":false,"comment_count":true,"meta":["nick","mail","link"],"requiredMeta":["nick"],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","emoji":["https://unpkg.com/@waline/emojis@1.0.1/bilibili"],"login":"disable","el":"#waline","comment":true,"path":"/PythonLes12/"}</script>
<link rel="stylesheet" href="https://hwchai.com/download/Waline.css">
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script>

</body>
</html>
